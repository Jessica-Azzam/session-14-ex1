<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Menu</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        .decorated-header {
            text-align: center;
            padding: 50px;
            color: rgb(255, 102, 0);
            border-radius: 10px;
            overflow: hidden;
            font-size: 60px;
            font-weight: light;
            letter-spacing: 16px;
            position: relative;
            width: 40%;
            background-image: url('images/menu.jpg');
            font-family: 'Courier New', Courier, monospace;
            background-position: center;
            background-repeat: no-repeat;
            background-size: 670px;
            border-top: 10px solid rgb(255, 102, 0);
            border-bottom: 10px solid rgb(255, 102, 0);
            margin: auto;
        }

        body {
            width: 100%;
            background-color: aliceblue;
            padding-top: 15px;
            padding-bottom: 20px;
        }

        ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
            margin-left: 8px;
            padding: 0;
            padding-bottom: 30px;
        }

        li {
            display: flex;
            flex-direction: column;
            gap: 10px;
            text-align: center;
            align-items: center;
            width: 100%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            transition: transform 0.2s;
            padding: 10px;
            position: relative;
        }

        li:hover {
            transform: scale(1.05);
        }

        li img {
            width: 200px;
            height: 200px;
            max-width: 200px;
        }

        form {
            margin: auto;
            width: auto;
            border: none;
            height: auto;
            margin-top: 30px;
            border-radius: 10px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.4);
        }

        .items {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            border-top: 1px solid black;
            border-bottom: 1px solid black;
            font-size: 55px;
            font-family: cursive;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.4);
            color: rgb(255, 102, 0);
        }

        .flex {
            display: flex;
        }

        .between {
            justify-content: space-between;
        }

        .column-dirction {
            flex-direction: column;
        }

        .gap10 {
            gap: 10px;
        }

        .gap15 {
            gap: 15px;
        }

        .section-1 {
            top: 110px;
            left: 50%;
            transform: translateX(-50%);
            position: fixed;
            width: auto;
            margin: 10px;
            color: white;
            background-color: rgba(0, 0, 0, 0.859);
            border-radius: 20px;
            padding: 20px;
            font-family: Arial, Helvetica, sans-serif;
            z-index: 1000;
        }

        .flex-end {
            justify-content: flex-end;
        }

        .add-button {
            display: flex;
            justify-content: flex-end;
            margin-top: 10px;
        }

        .add-button button {
            padding: 7px 10px;
            border: none;
            background-color: rgb(2, 220, 2);
            cursor: pointer;
            border-radius: 8px;
        }

        .X-button {
            background-color: red;
            color: white;
            height: 25px;
            border: none;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            width: 25px;
        }

        .hidden {
            display: none;
        }

        input {
            background-color: rgb(144, 138, 138);
            padding: 10px;
            color: white;
        }

        textarea {
            background-color: rgb(144, 138, 138);
            resize: none;
            height: 80px;
        }

        .plus {
            margin-left: 70px;
            cursor: pointer;
        }

        .file-upload {
            position: relative;
            margin-top: 10px;
            display: hidden;
        }

        .file-upload-label {
            display: inline-block;
            padding: 10px 20px;
            background-color: rgb(144, 138, 138);
            color: white;
            border-radius: 5px;
            width: 204px;
            cursor: pointer;
            text-align: center;
        }

        .preview-image {
            margin-top: 10px;
            width: 200px;
            object-fit: cover;
            border: 2px solid rgb(109, 100, 100);
            border-radius: 5px;
            height: auto;
            max-height: 150px;
            object-fit: cover;
        }

        .error {
            color: red;
            font-size: 12px;
            margin-top: 5px;
        }
        #new{
            color: green;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 40px;
            }

            .items {
                font-size: 40px;
            }
        }

        select {
            background-color: rgb(144, 138, 138);
            padding: 10px;
            color: white;
        }

        .remove-item {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: red;
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            height: 25px;
            width: 25px;
            text-align: center;
        }
    </style>
</head>

<body>
    <section class="section-1 hidden" id="show-form">
        <div class="flex between" style="align-items: center;">
            <h3>Add Item</h3>
            <button class="X-button" onclick="hideForm()">X</button>
        </div>
        <div class="flex gap15" style="margin-top: 20px;">
            <div class="flex column-dirction gap10" style="justify-content: flex-end;">
                <label for="item-type">Category</label>
                <select id="item-type">
                    <option value=""></option>
                    <option value="drinks">Drinks</option>
                    <option value="sandwiches">Sandwiches</option>
                </select>
                <p class="error hidden" id="type-error">Please select a category.</p>

                <label for="item-name">Item Name</label>
                <input type="text" name="item-name" id="item-name" />
                <p class="error hidden" id="name-error">Please enter the item name.</p>
            </div>
            <div class="flex column-dirction gap10">
                <label for="add-image">Add Image</label>
                <div class="file-upload">
                    <label class="file-upload-label" for="add-image">Choose Image</label>
                    <input type="file" name="add-image" id="add-image" accept="image/*" />
                </div>
                <img id="image-preview" class="preview-image" src="" alt="Image Preview" />
                <p class="error hidden" id="image-error">Please upload an image.</p>

                <label for="item-price">Item Price</label>
                <input type="number" id="item-price" min="0" />
                <p class="error hidden" id="price-error">Please enter a valid price.</p>
            </div>
        </div>
        <div class="flex column-dirction" style="margin-top: 10px;">
            <label for="details" style="margin-bottom: 8px;">Item Details</label>
            <textarea name="details" id="details"></textarea>
            <p class="error hidden" id="details-error">Please enter item details.</p>
        </div>
        <div class="add-button">
            <button id="add-item-button">
                Add Item
            </button>
        </div>
    </section>

    <h1 class="decorated-header">MENU</h1>
    <div class="container">
        <form onsubmit="return false;">
            <label class="items">DRINKS <span class="plus" onclick="showForm()">+</span></label>
            <div id="drinks-container">
                <ul>
                    <li>
                        <button class="remove-item" onclick="removeItem(this)">X</button>
                        <img src="images/bluedrink.jpg">
                        <b>Blue Drink</b>
                        <b>$5</b>
                        <p>Fresh and sweet</p>
                    </li>
                    <li>
                        <button class="remove-item" onclick="removeItem(this)">X</button>
                        <img src="images/lemonade.avif">
                        <b>Lemonade Drink</b>
                        <b>$3</b>
                        <p>Sweet and tangy</p>
                    </li>
                    <li>
                        <button class="remove-item" onclick="removeItem(this)">X</button>
                        <img src="images/frozendrin.webp">
                        <b>Frozen Drink</b>
                        <b>$6</b>
                        <p>Refreshing and icy</p>
                    </li>
                </ul>
            </div>

            <label class="items">SANDWICHES <span class="plus" onclick="showForm()">+</span></label>
            <div id="sandwiches-container">
                <ul>
                    <li>
                        <button class="remove-item" onclick="removeItem(this)">X</button>
                        <img src="images/classicclubsandwiche.jpg">
                        <b>Classic Sandwich</b>
                        <b>$10</b>
                        <p id="new">New delicious sandwich</p>
                    </li>
                    <li>
                        <button class="remove-item" onclick="removeItem(this)">X</button>
                        <img src="images/hamsandwich.jpg">
                        <b>Veggie Sandwich</b>
                        <b>$8</b>
                        <p>Fresh and crunchy</p>
                    </li>
                    <li>
                        <button class="remove-item" onclick="removeItem(this)">X</button>
                        <img src="images/cubanosandwich.jpg">
                        <b>Chicken Sandwich</b>
                        <b>$6</b>
                        <p>Crispy and juicy</p>
                    </li>
                </ul>
            </div>
        </form>
    </div>

    <script>
        const menu = document.getElementById('show-form');
        const drinksContainer = document.getElementById('drinks-container').querySelector('ul');
        const sandwichesContainer = document.getElementById('sandwiches-container').querySelector('ul');

        function showForm() {
            menu.classList.remove('hidden');
        }

        function hideForm() {
            menu.classList.add('hidden');
            resetForm();
        }

        document.getElementById('add-item-button').addEventListener('click', addItem);

        function addItem() {
            const itemType = document.getElementById('item-type').value;
            const itemName = document.getElementById('item-name').value;
            const itemPrice = document.getElementById('item-price').value;
            const itemDetails = document.getElementById('details').value;
            const itemImage = document.getElementById('add-image').files[0];

            let isValid = true;

            document.querySelectorAll('.error').forEach(error => error.classList.add('hidden'));

            if (!itemType) {
                document.getElementById('type-error').classList.remove('hidden');
                isValid = false;
            }

            if (!itemName) {
                document.getElementById('name-error').classList.remove('hidden');
                isValid = false;
            }

            if (!itemImage) {
                document.getElementById('image-error').classList.remove('hidden');
                isValid = false;
            }

            if (!itemPrice || itemPrice <= 0) {
                document.getElementById('price-error').classList.remove('hidden');
                isValid = false;
            }

            if (!itemDetails) {
                document.getElementById('details-error').classList.remove('hidden');
                isValid = false;
            }

            if (!isValid) return;

            const reader = new FileReader();
            reader.onload = function (e) {
                const newItem = {
                    name: itemName,
                    price: itemPrice,
                    description: itemDetails,
                    image: e.target.result
                };

                if (itemType === 'drinks') {
                    addItemToContainer(drinksContainer, newItem);
                } else {
                    addItemToContainer(sandwichesContainer, newItem);
                }

                hideForm();
            };

            reader.readAsDataURL(itemImage);
        }

        function addItemToContainer(container, item) {
            const itemHtml = `
                <li>
                    <button class="remove-item" onclick="removeItem(this)">X</button>
                    <img src="${item.image}">
                    <b>${item.name}</b>
                    <b>$${item.price}</b>
                    <p>${item.description}</p>
                </li>`;
            container.innerHTML += itemHtml;
        }

        function removeItem(button) {
            const itemLi = button.parentElement;
            itemLi.remove();
        }

        function resetForm() {
            document.getElementById('item-type').value = '';
            document.getElementById('item-name').value = '';
            document.getElementById('add-image').value = '';
            document.getElementById('item-price').value = '';
            document.getElementById('details').value = '';
            document.getElementById('image-preview').style.display = 'none';
            document.querySelectorAll('.error').forEach(error => error.classList.add('hidden'));
        }

        document.getElementById('item-type').addEventListener('change', () => hideError('type-error'));
        document.getElementById('item-name').addEventListener('input', () => hideError('name-error'));
        document.getElementById('add-image').addEventListener('change', () => hideError('image-error'));
        document.getElementById('item-price').addEventListener('input', () => hideError('price-error'));
        document.getElementById('details').addEventListener('input', () => hideError('details-error'));

        function hideError(errorId) {
            document.getElementById(errorId).classList.add('hidden');
        }

        document.getElementById('add-image').addEventListener('change', function (event) {
            const file = event.target.files[0];
            const preview = document.getElementById('image-preview');

            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                }
                reader.readAsDataURL(file);
            } else {
                preview.style.display = 'none';
            }
        });
    </script>
</body>

</html>